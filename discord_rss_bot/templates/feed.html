{% extends "base.html" %}
{% block title %} | {{ feed.title }}{% endblock %}
{% block content %}
    <h2>
        <a class="text-muted text-decoration-none" href="{{ feed.link }}">
            {{ feed.title }}
            {% if not feed.updates_enabled %}
                - <span style="color: red">disabled</span>
            {% endif %}
        </a>
    </h2>


    {% if feed.subtitle %}
        <small class="text-muted text-decoration-none">{{ feed.subtitle }}</small>
    {% endif %}

    {% if feed.added %}
        Added: {{ feed.added.strftime('%Y-%m-%d, %T') }}
    {% endif %}

    {% if feed.last_exception %}
        Last exception: {{ feed.last_exception }}
    {% endif %}

    <div class="btn-group" role="group">
        <form action="/remove" method="post">
            <button class="btn btn-danger" type="submit" name="feed_url" value="{{ feed.url }}">
                Remove feed
            </button>
        </form>
    </div>

    <div class="p-2 border border-dark" style="background:#0F0F0F">
        {% for entry in entries %}
            {% if loop.index > 1 %}
                <hr>
            {% endif %}

            <a class="text-muted text-decoration-none" href="{{ entry.link }}">
                <h2>{{ entry.title }}</h2>
            </a>

            By {{ entry.author }}
            {% if entry.published %}
                @ {{ entry.published.strftime('%Y-%m-%d, %T') }}
            {% endif %}

            {% if entry.summary %}
                <details>
                    <summary>Summary</summary>
                    <div class="text-muted text-wrap" style="max-height:450px; overflow-y: auto;">
                        {{ entry.summary | safe }}
                    </div>
                </details>
            {% endif %}
            {% if entry.content %}
                <details>
                    <summary>Content</summary>
                    <div class="text-muted" style="max-height:450px; overflow-y: auto;">
                        {{ entry.content[0].value | safe }}
                    </div>
                </details>
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}