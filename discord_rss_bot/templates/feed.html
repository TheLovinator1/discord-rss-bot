{% extends "base.html" %}
{% block title %} | {{ feed.title }}{% endblock %}
{% block content %}
    <div class="p-2 mb-2 border border-dark">
        <!-- The feed title. -->
        <h2><a class="text-muted text-decoration-none" href="{{ feed.link }}">{{ feed.title }}</a></h2>

        {% if not feed.updates_enabled %}<span class="text-danger">Disabled</span>{% endif %}

        {% if feed.last_exception %}Last exception: {{ feed.last_exception }}{% endif %}

        <form action="/remove" method="post">
            <button class="btn btn-danger btn-sm" name="feed_url" value="{{ feed.url }}"
                    onclick="return confirm('Are you sure you want to delete this feed?')">Remove
            </button>
        </form>

        {% if not feed.updates_enabled %}
            <form action="/unpause" method="post">
                <button class="btn btn-dark btn-sm" name="feed_url" value="{{ feed.url }}">Unpause</button>
            </form>
        {% else %}
            <form action="/pause" method="post">
                <button class="btn btn-danger btn-sm" name="feed_url" value="{{ feed.url }}">Pause</button>
            </form>
        {% endif %}

    </div>
    {% for entry in entries %}
        <div class="p-2 mb-2 border border-dark">
            <h2>
                <a class="text-muted text-decoration-none" href="{{ entry.link }}">
                    {{ entry.title }}
                </a>
            </h2>
            By {{ entry.author }}
            {% if entry.published %}
                @ {{ entry.published.strftime('%Y-%m-%d, %T') }}
            {% endif %}

            {% if entry.summary %}
                <details>
                    <summary>Summary</summary>
                    <div class="text-muted text-wrap summary">
                        {{ entry.summary | safe }}
                    </div>
                </details>
            {% endif %}
            {% if entry.content %}
                <details>
                    <summary>Content</summary>
                    <div class="text-muted summary">
                        {{ entry.content[0].value | safe }}
                    </div>
                </details>
            {% endif %}
        </div>
    {% endfor %}
{% endblock %}
